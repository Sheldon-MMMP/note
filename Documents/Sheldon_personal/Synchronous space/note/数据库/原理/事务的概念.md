# 事务的概念
### 事务的概念
简单直白点讲，事务的概念是如果一个包含多个步骤的业务操作，被事务管理，那么这些操作要么同时成功，要么同时失败

### 关于事务的操作

开启事务： start transaction;
在业务操作前执行开启事务

回滚事务：rollback;
在业务操作时出现异常，则执行事务的回滚（若事务进行了回滚，那么提交事务则不会执行）

提交事务：commit;
在业务操作完成时，执行性提交事务

### 事务的四大特征：
> 原子性：是不可分割的最小操作单位，要么同时成功，要么同时失败。
> 持久性：当事务提交或回滚后，数据库会持久化的保存数据。
>隔离性：多个事务之间。相互独立。
>一致性：事务操作前后，数据总量不变

### 事务的隔离级别
一.概念：多个事务之间隔离的，相互独立的。但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这些问题。

#### 隔离级别：

[[事务的隔离级别#^d9727d|read uncommitted]]：读未提交产生的问题：脏读、不可重复读、幻读

[[事务的隔离级别#^18216c|read committed]]：读已提交 （Oracle默认）产生的问题：不可重复读、幻读

[[事务的隔离级别#^f882bb|repeatable read]]：可重复读 （MySQL默认）产生的问题：幻读		 

[[事务的隔离级别#^920a6a|serializable]]：串行化可以解决所有的问题

##### 多个事务操作同一批数据时存在的问题：

脏读：一个事务，读取到另一个事务中没有提交的数据
		
不可重复读(虚读)：在同一个事务中，两次读取到的数据不一样。
		
幻读：一个事务操作(DML)数据表中所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。

【注意：隔离级别从小到大安全性越来越高，但是效率越来越低】